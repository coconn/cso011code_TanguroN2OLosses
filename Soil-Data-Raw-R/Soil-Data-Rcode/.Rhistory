pw1nloess <- p1n + geom_smooth(size = 1.5, fill="#333333", colour="black")
pw1c <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxCO2q, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngC/cm2/hr (quad fit)")
pw1cloess <- p1c + geom_smooth(size = 1.5, fill="#333333", colour="black")
# linear - facet by site
pw2n <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxN2Ol, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngN/cm2/hr (linear fit)")
pw2nloess <- p2n + geom_smooth(size = 1.5, fill="#333333", colour="black")
pw2c <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxCO2l, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngC/cm2/hr (linear fit)")
pw2cloess <- p2c + geom_smooth(size = 1.5, fill="#333333", colour="black")
# grid.arrange
grid.arrange(pw1n, pw1c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw1nloess, pw1cloess, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2n, pw2c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2nloess, pw2cloess, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw1n, pw1c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw1nloess, pw1cloess, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
# quad - facet by site
pw1n <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxN2Oq, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngN/cm2/hr (quad fit)")
pw1nloess <- pw1n + geom_smooth(size = 1.5, fill="#333333", colour="black")
pw1c <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxCO2q, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngC/cm2/hr (quad fit)")
pw1cloess <- pw1c + geom_smooth(size = 1.5, fill="#333333", colour="black")
# linear - facet by site
pw2n <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxN2Ol, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngN/cm2/hr (linear fit)")
pw2nloess <- pw2n + geom_smooth(size = 1.5, fill="#333333", colour="black")
pw2c <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxCO2l, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngC/cm2/hr (linear fit)")
pw2cloess <- pw2c + geom_smooth(size = 1.5, fill="#333333", colour="black")
grid.arrange(pw1n, pw1c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw1nloess, pw1cloess, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2n, pw2c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2nloess, pw2cloess, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2n, nrow = 1, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2c, nrow = 1, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2n, pw2c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw1n, pw1c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
grid.arrange(pw2n, pw2c, nrow = 2, ncol = 1) # great, this works!  looks a little ugly, but this is the right thing and I'll play with the
pw2n <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxN2Ol, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngN/cm2/hr (linear fit)") + geom_line()
pw2n <- ggplot(subset(fluxessitesummary, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=meanfluxN2Ol, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("ngN/cm2/hr (linear fit)") + geom_line()
pw2n
soilmoisture <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/Field Moisture Extr Data/abioticfactors-wetseason.txt", stringsAsFactors=FALSE)
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/Field Moisture Extr Data/abioticfactors-wetseason.txt", stringsAsFactors=FALSE)
View(abioticfactors)
abioticfactors <- transform(abioticfactors, color.use = ifelse(LUtype=="M", as.character("darkorange"), ifelse(LUtype=="F", as.character("darkgreen"), as.character("darkblue"))))
View(abioticfactors)
abioticfactors <- transform(abioticfactors, LUname = ifelse(LUtype=="M", as.character("Soya/Maize DC"), ifelse(LUtype=="F", as.character("Forest"), as.character("Soya SC"))))
View(abioticfactors)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
View(abioticfactors)
abioticfactors$SampleDate <- gsub("/14","/2014", abioticfactors$SampleDate , fixed=TRUE)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
View(abioticfactors)
pw1n <- ggplot(subset(abioticfactors, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=SoilMoisPercent, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("% Soil Moisture")
pw1n
soilmoisfig1 <- ggplot(subset(abioticfactors, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=SoilMoisPercent, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("% Soil Moisture")
soilmoisfig1
soilmoisfig1loess <- soilmoisfig1 + geom_smooth(size = 1.5, fill="#333333", colour="black")
soilmoisfig1loess
fluxesfull <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxesfull.csv", stringsAsFactors=FALSE)
fluxesfull$easysitename <- do.call(paste, c(fluxesfull[c("Site", "SampleDate")], sep = "_"))
abioticfactors$easysitename <- do.call(paste, c(abioticfactors[c("Site", "SampleDate")], sep = "_"))
View(abioticfactors)
help(mean)
dat <- read.table("http://www.stat.umn.edu/~llendway/datasets/ex07_081.txt",header=T)
tapply(SoilMoisPercent,easysitename,mean)
View(abioticfactors)
tapply(SoilMoisPercent,abioticfactors$easysitename,mean)
tapply(abioticfactors$SoilMoisPercent,abioticfactors$easysitename,mean)
tapply(abioticfactors$SampleDate2,abioticfactors$easysitename,mean)
abioticfactors$SampleDate2
tapply(abioticfactors$SampleDate2,abioticfactors$easysitename,unique)
help(date)
tapply(abioticfactors$SampleDate2,abioticfactors$easysitename,date)
View(fluxessitesummary)
SoilMoisPercent_mean <- tapply(abioticfactors$SoilMoisPercent,abioticfactors$easysitename,mean)
SoilMoisPercent_mean
soilmoisfig1 <- ggplot(subset(abioticfactors, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=SoilMoisPercent, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("% Soil Moisture")
soilmoisfig1loess <- soilmoisfig1 + geom_smooth(size = 1.5, fill="#333333", colour="black")
soilmoisfig1 <- ggplot(subset(abioticfactors, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=mean(SoilMoisPercent), color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("% Soil Moisture")
soilmoisfig1
mean(SoilMoisPercent)
mean(abioticfactors$SoilMoisPercent)
attach(abioticfactors)
soilmoisfig1 <- ggplot(subset(abioticfactors, SampleDate2 > "2013/11/01"), aes(x=SampleDate2, y=SoilMoisPercent, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("% Soil Moisture")
soilmoisfig1
soilmoisfig1loess <- soilmoisfig1 + geom_smooth(size = 1.5, fill="#333333", colour="black")
soilmoisfig1loess
fluxesfull <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxesfull.csv", stringsAsFactors=FALSE)
fluxessitesummary <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxessitesummary.csv", stringsAsFactors=FALSE)
# set files to process and path to folder with standardized naming info
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/Field Moisture Extr Data/abioticfactors-wetseason.txt", stringsAsFactors=FALSE)
# create a col to assign a color in the graphs
abioticfactors <- transform(abioticfactors, color.use = ifelse(LUtype=="M", as.character("darkorange"), ifelse(LUtype=="F", as.character("darkgreen"), as.character("darkblue"))))
# create a col to assign a better name to each land use
abioticfactors <- transform(abioticfactors, LUname = ifelse(LUtype=="M", as.character("Soya/Maize DC"), ifelse(LUtype=="F", as.character("Forest"), as.character("Soya SC"))))
# summary by site and date to df so R likes it
abioticfactors$SampleDate <- gsub("/14","/2014", abioticfactors$SampleDate , fixed=TRUE)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
View(abioticfactors)
View(fluxesfull)
View(abioticfactors)
View(fluxessitesummary)
View(fluxesfull)
View(fluxessitesummary)
View(fluxessitesummary)
abioticfactors$FluxID <- do.call(paste, c(abioticfactors[c("Site", "SampleDate", "Chamber")], sep = "_"))
View(abioticfactors)
View(fluxesfull)
abioticfactors$sitehere <- do.call(paste, c(abioticfactors[c("Site", "SampleDate")], sep = "_"))
View(abioticfactors)
authors <- data.frame(
surname = I(c("Tukey", "Venables", "Tierney", "Ripley", "McNeil")),
nationality = c("US", "Australia", "US", "UK", "Australia"),
deceased = c("yes", rep("no", 4)))
authors
books <- data.frame(
name = I(c("Tukey", "Venables", "Tierney",
"Ripley", "Ripley", "McNeil", "R Core")),
title = c("Exploratory Data Analysis",
"Modern Applied Statistics ...",
"LISP-STAT",
"Spatial Statistics", "Stochastic Simulation",
"Interactive Data Analysis",
"An Introduction to R"),
other.author = c(NA, "Ripley", NA, NA, NA, NA,
"Venables & Smith"))
books
authors
(m1 <- merge(authors, books, by.x = "surname", by.y = "name"))
(m2 <- merge(books, authors, by.x = "name", by.y = "surname"))
stopifnot(as.character(m1[, 1]) == as.character(m2[, 1]),
all.equal(m1[, -1], m2[, -1][ names(m1)[-1] ]),
dim(merge(m1, m2, by = integer(0))) == c(36, 10))
merge(authors, books, by.x = "surname", by.y = "name", all = TRUE)
x <- data.frame(k1 = c(NA,NA,3,4,5), k2 = c(1,NA,NA,4,5), data = 1:5)
y <- data.frame(k1 = c(NA,2,NA,4,5), k2 = c(NA,NA,3,4,5), data = 1:5)
x
y
merge(x, y, by = c("k1","k2")) # NA's match
merge(x, y, by = "k1") # NA's match, so 6 rows
merge(x, y, by = "k2", incomparables = NA) # 2 rows
m1 <- merge(abioticfactors, fluxesfull, by = "FluxID")
View(`m1`)
View(abioticfactors)
m2 <- merge(abioticfactors, fluxessitesummary, by = "sitehere")
View(`m2`)
write.csv(m1, file=paste("m1.csv"), row.names=FALSE)
write.csv(m2, file=paste("m2.csv"), row.names=FALSE)
authors <- data.frame(
surname = I(c("Tukey", "Venables", "Tierney", "Ripley", "McNeil")),
nationality = c("US", "Australia", "US", "UK", "Australia"),
deceased = c("yes", rep("no", 4)))
books <- data.frame(
name = I(c("Tukey", "Venables", "Tierney",
"Ripley", "Ripley", "McNeil", "R Core")),
title = c("Exploratory Data Analysis",
"Modern Applied Statistics ...",
"LISP-STAT",
"Spatial Statistics", "Stochastic Simulation",
"Interactive Data Analysis",
"An Introduction to R"),
other.author = c(NA, "Ripley", NA, NA, NA, NA,
"Venables & Smith"))
(m1 <- merge(authors, books, by.x = "surname", by.y = "name"))
books
authors
View(abioticfactors)
View(fluxesfull)
m1 <- merge(abioticfactors, fluxesfull, by = "FluxID", all=TRUE)
m2 <- merge(abioticfactors, fluxessitesummary, by = "sitehere", all=TRUE)
m1 <- merge(abioticfactors, fluxesfull, by = "FluxID")
m1 <- merge(abioticfactors, fluxesfull, by = "FluxID", all=TRUE)
View(`m1`)
View(`m2`)
89*5
439*2
View(`m1`)
help(merge)
mprac <- merge(abioticfactors, fluxesfull)
View(mprac)
mprac <- merge(abioticfactors, fluxesfull, all=TRUE)
View(mprac)
View(abioticfactors)
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/Field Moisture Extr Data/abioticfactors.txt", stringsAsFactors=FALSE)
View(abioticfactors)
help(read.delim)
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/Field Moisture Extr Data/abioticfactors.txt", stringsAsFactors=FALSE, na.strings="NA")
View(abioticfactors)
abioticfactors <- transform(abioticfactors, color.use = ifelse(LUtype=="M", as.character("darkorange"), ifelse(LUtype=="F", as.character("darkgreen"), as.character("darkblue"))))
# create a col to assign a better name to each land use
abioticfactors <- transform(abioticfactors, LUname = ifelse(LUtype=="M", as.character("Soya/Maize DC"), ifelse(LUtype=="F", as.character("Forest"), as.character("Soya SC"))))
View(abioticfactors)
abioticfactors$SampleDate <- gsub("/14","/2014", abioticfactors$SampleDate , fixed=TRUE)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
View(abioticfactors)
attach(abioticfactors)
fluxesfull <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxesfull.csv", stringsAsFactors=FALSE)
439*2
mprac <- merge(abioticfactors, fluxesfull, all=TRUE)
View(abioticfactors)
View(fluxesfull)
View(mprac)
fluxesfullmerge <- merge(abioticfactors, fluxesfull, all=TRUE)
View(mprac)
View(fluxesfullmerge)
fluxesfullmerge$easysitename <- do.call(paste, c(fluxesfullmerge[c("Site", "SampleDate")], sep = "_"))
View(fluxesfullmerge)
help(sort)
ii <- order(x <- c(1,1,3:1,1:4,3), y <- c(9,9:1), z <- c(2,1:9))
x
y
z
ii
rbind(x, y, z)[,ii]
data.frame(x, y, z)
dd <- transform(data.frame(x, y, z),
z = factor(z, labels = LETTERS[9:1]))
dd
dd[ order(x, -y, z), ]
fluxesfullmerge_orderprac <- fluxesfullmerge[ order("SampleDate2") ]
View(fluxesfullmerge_orderprac)
newdata <- fluxesfullmerge[order(SampleDate2),]
View(newdata)
attach(mtcars)
newdata <- mtcars[order(mpg),]
View(newdata)
mtcars
fluxesfullmerge
556+322
newdata <- fluxesfullmerge[order(SampleDate),]
dd <- data.frame(b = factor(c("Hi", "Med", "Hi", "Low"),
levels = c("Low", "Med", "Hi"), ordered = TRUE),
x = c("A", "D", "A", "C"), y = c(8, 3, 9, 9),
z = c(1, 1, 1, 2))
dd
dd[with(dd, order(-z, b)), ]
newdata <- fluxesfullmerge[with(fluxesfullmerge, order(SampleDate)), ]
newdata <- fluxesfullmerge[order(SampleDate),]
newdata <- fluxesfullmerge[with(fluxesfullmerge, order(SampleDate)), ]
View(newdata)
library(plyr)
arrange(dd,desc(z),b)
arrange(dd,desc(z),)
arrange(dd,desc(z))
dd
View(newdata)
newdata <- arrange(fluxesfullmerge,desc(SampleDate))
View(newdata)
# set files to process and path to folder with standardized naming info
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/Field Moisture Extr Data/abioticfactors.txt", stringsAsFactors=FALSE, na.strings="NA")
# create a col to assign a color in the graphs
abioticfactors <- transform(abioticfactors, color.use = ifelse(LUtype=="M", as.character("darkorange"), ifelse(LUtype=="F", as.character("darkgreen"), as.character("darkblue"))))
# create a col to assign a better name to each land use
abioticfactors <- transform(abioticfactors, LUname = ifelse(LUtype=="M", as.character("Soya/Maize DC"), ifelse(LUtype=="F", as.character("Forest"), as.character("Soya SC"))))
# summary by site and date to df so R likes it
abioticfactors$SampleDate <- gsub("/14","/2014", abioticfactors$SampleDate , fixed=TRUE)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
attach(abioticfactors)
########################################################################
# MAKE TWO HUGE DATASETs WITH FLUX AND ABIOTIC FACTORS - CHAMBER AND SITE SUMMARY
# bring in flux data
fluxesfull <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxesfull.csv", stringsAsFactors=FALSE)
# merge
fluxesfullmerge <- merge(abioticfactors, fluxesfull, all=TRUE)
# add column for site-date combo name (to find site-date summary stats)
fluxesfullmerge$easysitename <- do.call(paste, c(fluxesfullmerge[c("Site", "SampleDate")], sep = "_"))
fluxesfullmerge2 <- arrange(fluxesfullmerge,desc(SampleDate))
View(fluxesfullmerge)
View(fluxesfullmerge2)
########################################################################
# BRING IN ABIOTIC DATA / PREP
# set files to process and path to folder with standardized naming info
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/abioticfactors.txt", stringsAsFactors=FALSE, na.strings="NA")
# create a col to assign a color in the graphs
abioticfactors <- transform(abioticfactors, color.use = ifelse(LUtype=="M", as.character("darkorange"), ifelse(LUtype=="F", as.character("darkgreen"), as.character("darkblue"))))
# create a col to assign a better name to each land use
abioticfactors <- transform(abioticfactors, LUname = ifelse(LUtype=="M", as.character("Soya/Maize DC"), ifelse(LUtype=="F", as.character("Forest"), as.character("Soya SC"))))
# summary by site and date to df so R likes it
abioticfactors$SampleDate <- gsub("/14","/2014", abioticfactors$SampleDate , fixed=TRUE)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
attach(abioticfactors)
# bring in flux data
fluxesfull <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxesfull.csv", stringsAsFactors=FALSE)
# merge
fluxesfullmerge <- merge(abioticfactors, fluxesfull, all=TRUE)
# add column for site-date combo name (to find site-date summary stats)
fluxesfullmerge$easysitename <- do.call(paste, c(fluxesfullmerge[c("Site", "SampleDate")], sep = "_"))
library(plyr)
fluxesfullmerge2 <- arrange(fluxesfullmerge,desc(SampleDate))
abioticfactors$easysitename <- do.call(paste, c(abioticfactors[c("Site", "SampleDate")], sep = "_"))
View(abioticfactors)
# Soil-Data-Rcode.R
# processing soil data from the field
# disrupted N project
# CS O'Connell, UMN EEB/IonE
########################################################################
# BRING IN ABIOTIC DATA / PREP
# set files to process and path to folder with standardized naming info
abioticfactors <- read.delim("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/abioticfactors.txt", stringsAsFactors=FALSE, na.strings="NA")
# create a col to assign a color in the graphs
abioticfactors <- transform(abioticfactors, color.use = ifelse(LUtype=="M", as.character("darkorange"), ifelse(LUtype=="F", as.character("darkgreen"), as.character("darkblue"))))
# create a col to assign a better name to each land use
abioticfactors <- transform(abioticfactors, LUname = ifelse(LUtype=="M", as.character("Soya/Maize DC"), ifelse(LUtype=="F", as.character("Forest"), as.character("Soya SC"))))
# summary by site and date to df so R likes it
abioticfactors$SampleDate <- gsub("/14","/2014", abioticfactors$SampleDate , fixed=TRUE)
abioticfactors$SampleDate2 <- gsub("[.]","/",abioticfactors$SampleDate)
abioticfactors$SampleDate2 <- as.Date(abioticfactors$SampleDate2, format="%Y/%m/%d")
# add column for site-date combo name (to find site-date summary stats)
abioticfactors$easysitename <- do.call(paste, c(abioticfactors[c("Site", "SampleDate")], sep = "_"))
abioticfactorsprocessed <- abioticfactors
pathsavefiles = "~/Documents/GITHUB/cso011code_TanguroN2OLosses/Soil-Data-Raw-R/Soil-Data-RawFolders/"
write.csv(abioticfactorsprocessed, file=paste(pathsavefiles, "abioticfactorsprocessed.csv", sep = ""), row.names=FALSE)
fluxesfull <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/GC-Data-Raw-R/Flux-Data-Rprocessed/fluxesfull.csv", stringsAsFactors=FALSE)
# merge
fluxesfullmerge <- merge(abioticfactors, fluxesfull, all=TRUE)
View(fluxesfullmerge)
library(plyr)
fluxesfullmerge2 <- arrange(fluxesfullmerge,desc(SampleDate))
View(fluxesfullmerge2)
pathsavefiles = "~/Documents/GITHUB/cso011code_TanguroN2OLosses/Combo-Datasets/"
write.csv(fluxesfullmerge2, file=paste(pathsavefiles, "fluxesfullmerge.csv", sep = ""), row.names=FALSE)
fluxesfullmerge <- merge(abioticfactors, fluxesfull, all=TRUE)
# sort by date
library(plyr)
fluxesfullmerge2 <- arrange(fluxesfullmerge,desc(SampleDate))
# save as csv
pathsavefiles = "~/Documents/GITHUB/cso011code_TanguroN2OLosses/Combo-Datasets/"
write.csv(fluxesfullmerge2, file=paste(pathsavefiles, "fluxesfullmerge.csv", sep = ""), row.names=FALSE)
878*4
View(abioticfactorsprocessed)
View(fluxesfullmerge2)
fluxessitesummary <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Combo-Datasets/fluxesfullmerge.csv", stringsAsFactors=FALSE)
View(fluxessitesummary)
fluxesfullmerge <- read.csv("~/Documents/GITHUB/cso011code_TanguroN2OLosses/Combo-Datasets/fluxesfullmerge.csv", stringsAsFactors=FALSE)
View(fluxesfullmerge)
require(ggplot2)
require(gridExtra)
# soil temp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black")
# soil moisture
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black")
SoilMoisPercent[GasType="CO2"]
help(subset)
subset(SoilMoisPercent, GasType="CO2")
subset(SoilMoisPercent, GasType=="CO2")
subset(fluxesfullmerge$SoilMoisPercent, fluxesfullmerge$GasType=="CO2")
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=subset(fluxesfullmerge$SoilTmpEnd, fluxesfullmerge$GasType=="CO2"), color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black")
soiltmploess
soiltmp <- ggplot(fluxesfullmerge, aes(x=subset(fluxesfullmerge$SampleDate2, fluxesfullmerge$GasType=="CO2"), y=subset(fluxesfullmerge$SoilTmpEnd, fluxesfullmerge$GasType=="CO2"), color=subset(fluxesfullmerge$color.use, fluxesfullmerge$GasType=="CO2"))) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black")
soiltmploess
soiltmp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmp
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black")
soiltmploess
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmp
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black")
soiltmploess
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmois
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black")
soilmoisloess
no2lin <- ggplot(fluxesfullmerge, aes(x=subset(fluxesfullmerge$SampleDate2, fluxesfullmerge$GasType=="CO2"), y=subset(fluxesfullmerge$LinearFlux, fluxesfullmerge$GasType=="N2O"), color=subset(fluxesfullmerge$color.use, fluxesfullmerge$GasType=="CO2"))) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2lin
no2lin <- ggplot(fluxesfullmerge, aes(x=subset(fluxesfullmerge$SampleDate2, fluxesfullmerge$GasType=="CO2"), y=subset(fluxesfullmerge$LinearFlux, fluxesfullmerge$GasType=="N2O"), color=subset(fluxesfullmerge$color.use, fluxesfullmerge$GasType=="CO2"))) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2lin
help(subset)
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2lin
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black")
no2linloess
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=QuadFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("QuadFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black")
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black")
no2linloess
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O" & SampleDate2 > 2014/01/01), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2lin
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black")
no2linloess
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black")
co2linloess
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 1, ncol = 4)
help(ggplot)
# soil temp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none")
# soil moisture
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none")
# N2O linear
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none")
# CO2 Linear
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none")
# grid.arrange
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 1, ncol = 4)
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none")
co2linloess
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none")
co2linloess
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 1, ncol = 4)
library(scales)
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_datetime(labels = date_format("%b"))
co2linloess
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%b"))
co2linloess
fluxesfullmerge$SampleDate2 <- as.Date(df$SampleDate2)
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2lin
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%b"))
co2linloess
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%m-%Y"))
co2linloess
fluxesfullmerge$SampleDate2 <- as.Date(df$SampleDate2)
fluxesfullmerge$SampleDate2 <- as.Date(fluxesfullmerge$SampleDate2)
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2lin
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%m-%Y"))
co2linloess
# soil temp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%m-%Y"))
# soil moisture
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%m-%Y"))
# N2O linear
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%m-%Y"))
# CO2 Linear
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none") + scale_x_date(labels = date_format("%m-%Y"))
# grid.arrange
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 1, ncol = 4)
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
co2linloess
# soil temp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# soil moisture
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# N2O linear
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# CO2 Linear
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, nrow=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# grid.arrange
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 1, ncol = 4)
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 1, ncol = 4)
# soil temp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# soil moisture
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# N2O linear
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# CO2 Linear
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# grid.arrange
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 4, ncol = 1)
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1), axis.text.x=element_blank(), axis.title.x=element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1), axis.text.x=element_blank(), axis.title.x=element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1), axis.text.x=element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1), axis.title.x=element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1), axis.title.x=element_blank(), axis.ticks = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1), axis.title.x=element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.title.x=element_blank(), axis.text.x = element_blank(), axis.ticks = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.title.x=element_blank(), axis.text.x = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
no2linloess
# soil temp
soiltmp <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilTmpEnd, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilTmpEnd")
soiltmploess <- soiltmp + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.title.x=element_blank(), axis.text.x = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
# soil moisture
soilmois <- ggplot(fluxesfullmerge, aes(x=SampleDate2, y=SoilMoisPercent, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("SoilMoisPercent")
soilmoisloess <- soilmois + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.title.x=element_blank(), axis.text.x = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
# N2O linear
no2lin <- ggplot(subset(fluxesfullmerge,GasType=="N2O"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("LinearFlux N2O")
no2linloess <- no2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.title.x=element_blank(), axis.text.x = element_blank()) + scale_x_date(labels = date_format("%m-%Y"))
# CO2 Linear
co2lin <- ggplot(subset(fluxesfullmerge,GasType=="CO2"), aes(x=SampleDate2, y=LinearFlux, color=color.use, group=1)) + geom_point(size=2.5) + facet_wrap( ~ LUname, ncol=3) + xlab("Sampling Date") + ylab("LinearFlux CO2")
co2linloess <- co2lin + geom_smooth(size = 1.5, fill="#333333", colour="black") + theme(legend.position="none", axis.text.x = element_text(angle=45, hjust=1, vjust=1)) + scale_x_date(labels = date_format("%m-%Y"))
# grid.arrange
grid.arrange(soiltmploess, soilmoisloess, no2linloess, co2linloess, nrow = 4, ncol = 1)
